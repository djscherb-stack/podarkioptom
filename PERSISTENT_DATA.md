# Хранение загруженных данных (persistent disk)

По умолчанию Render использует **временную файловую систему** — при каждом обновлении кода (deploy) загруженные Excel-файлы удаляются.

Чтобы данные сохранялись при обновлениях, подключите **Persistent Disk** на Render.

## Шаги

### 1. Добавить диск

1. Зайдите в [Render Dashboard](https://dashboard.render.com)
2. Выберите ваш сервис **podarkioptom**
3. Вкладка **Disks** (или **Storage**)
4. Нажмите **Add Disk**
5. Укажите:
   - **Mount Path:** `/data`
   - **Size:** 1 GB (достаточно для Excel-отчётов)
6. Нажмите **Add disk**

Render выполнит новый деплой, диск будет доступен.

### 2. Добавить переменную окружения

1. Вкладка **Environment**
2. **Add Environment Variable**
3. Ключ: `DATA_DIR`
4. Значение: `/data`
5. Сохраните

### 3. Перезапустить сервис

Если после добавления переменной не было автоматического деплоя, нажмите **Manual Deploy** → **Deploy latest commit**.

---

## Как это работает

- Загруженные через сайт или API Excel-файлы сохраняются в `/data`
- Папка `/data` хранится на постоянном диске и **не удаляется** при обновлении кода
- Excel-файлы из репозитория (в `data/`) по-прежнему подхватываются при первом деплое

---

**Примечание:** Persistent Disk доступен только на **платном тарифе** Render ($7/мес). На бесплатном тарифе данные при каждом деплое будут теряться.
